<ion-header>
  <ion-toolbar>
    <div class="back" (click)="nav()">
      <svg width="9" height="13" viewBox="0 0 9 13" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path fill-rule="evenodd" clip-rule="evenodd"
          d="M8.22231 10.5131L5.62194 7.4805C5.13836 6.91665 5.13836 6.08393 5.62194 5.5198L8.22259 2.48668C8.72589 1.8995 8.69228 1.02373 8.14565 0.476821L8.10232 0.433491C7.55541 -0.113416 6.67936 -0.147025 6.09218 0.356552L2.07885 3.7977L0.441462 5.43481C-0.147108 6.02283 -0.147108 6.97665 0.441185 7.56494L2.07885 9.20261L6.09218 12.6435C6.67936 13.1471 7.55541 13.1134 8.10204 12.5663L8.14565 12.5229C8.69228 11.976 8.72561 11.1003 8.22231 10.5131Z"
          fill="#4A4A4A" />
      </svg>
    </div>
    <ion-title>
      <ion-item>
        <ion-avatar slot="start">
          <img src="../../../../assets/image/fogg-918.png">
        </ion-avatar>
        <ion-label>
          <h2>{{userID}}</h2>
          <p>Hier Ã  12:54</p>
        </ion-label>
      </ion-item>
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
<div>
  <ion-item lines ="none " *ngFor="let message of messagesObs$|async">
    <ion-avatar *ngIf="message.userId != userID"  slot="start">
      <img src="../../../../assets/image/fogg-918.png">
    </ion-avatar>
    <ion-badge text-wrap *ngIf="message.userId == userID" slot ="end" color="medium" >{{message.text}} 
      <ion-icon color="primary" name="checkmark-done-outline"></ion-icon>
      <ion-note color="medium">{{message.date | date :'h:m'}}</ion-note>
    </ion-badge>
    <ion-badge text-wrap *ngIf="message.userId != userID" slot ="start" color="secondary" >{{message.text}}
      <ion-note  color="medium">{{message.date | date :'h:m'}}</ion-note>
    </ion-badge> 
  </ion-item>
</div>
</ion-content>

<ion-footer> 
  <ion-toolbar color="light">
      <ion-row align-items-center no-padding>
        
        <ion-col size="10">
          <ion-input  autosize type="text" maRows="3" [(ngModel)]="messageText"  class="message-input">
            <ion-button id="btn-suggerez-lieu" shape="round" color="light"  slot="start" > <ion-icon id="localisation"  slot="icon-only" name="location-outline"> </ion-icon> suggerez un lieu</ion-button>
        </ion-input>
        </ion-col>
        <ion-col size="2">
          <ion-button expand="block" fill="clear" color="primary" class="msg-btn" (click)="sendMessage()">
            <ion-icon slot="icon-only" name="send"> </ion-icon>
          </ion-button>
        </ion-col>
      </ion-row>
  </ion-toolbar>
</ion-footer>